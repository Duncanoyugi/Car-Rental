### test-payment.http

@baseUrl = http://localhost:3000
@contentType = application/json

### 1. CREATE PAYMENT FOR RENTAL
# @name createPayment
POST {{baseUrl}}/payment
Content-Type: {{contentType}}

{
  "rentalId": 1,
  "paymentDate": "2024-03-15",
  "amount": 150.75,
  "paymentMethod": "credit_card"
}

### 2. CREATE ANOTHER PAYMENT
# @name createPayment2
POST {{baseUrl}}/payment
Content-Type: {{contentType}}

{
  "rentalId": 2,
  "paymentDate": "2024-03-16",
  "amount": 89.50,
  "paymentMethod": "debit_card"
}

### 3. CREATE CASH PAYMENT
# @name createPayment3
POST {{baseUrl}}/payment
Content-Type: {{contentType}}

{
  "rentalId": 3,
  "paymentDate": "2024-03-17",
  "amount": 200.00,
  "paymentMethod": "cash"
}

### 4. CREATE BANK TRANSFER PAYMENT
# @name createPayment4
POST {{baseUrl}}/payment
Content-Type: {{contentType}}

{
  "rentalId": 1,
  "paymentDate": "2024-03-18",
  "amount": 75.25,
  "paymentMethod": "bank_transfer"
}

### 5. GET ALL PAYMENTS
GET {{baseUrl}}/payment
Content-Type: {{contentType}}

### 6. GET PAYMENT BY ID
GET {{baseUrl}}/payment/{{createPayment.response.body.$.id}}
Content-Type: {{contentType}}

### 7. UPDATE PAYMENT
PATCH {{baseUrl}}/payment/{{createPayment.response.body.$.id}}
Content-Type: {{contentType}}

{
  "amount": 175.00,
  "paymentMethod": "digital_wallet"
}

### 8. DELETE PAYMENT
DELETE {{baseUrl}}/payment/{{createPayment.response.body.$.id}}
Content-Type: {{contentType}}

### 9. GET PAYMENTS BY RENTAL ID (Custom method - you may need to add this endpoint)
GET {{baseUrl}}/payment/rental/1
Content-Type: {{contentType}}

### 10. GET PAYMENTS BY PAYMENT METHOD (Custom method - you may need to add this endpoint)
GET {{baseUrl}}/payment/method/credit_card
Content-Type: {{contentType}}

### 11. GET PAYMENTS BY DATE RANGE (Custom method - you may need to add this endpoint)
GET {{baseUrl}}/payment/range?startDate=2024-03-15&endDate=2024-03-18
Content-Type: {{contentType}}

### 12. GET TOTAL REVENUE (Custom method - you may need to add this endpoint)
GET {{baseUrl}}/payment/revenue/total
Content-Type: {{contentType}}

### 13. GET REVENUE BY DATE RANGE (Custom method - you may need to add this endpoint)
GET {{baseUrl}}/payment/revenue/range?startDate=2024-03-15&endDate=2024-03-18
Content-Type: {{contentType}}

### 14. GET PAYMENT METHODS SUMMARY (Custom method - you may need to add this endpoint)
GET {{baseUrl}}/payment/methods/summary
Content-Type: {{contentType}}

### 15. TRY TO CREATE PAYMENT FOR NON-EXISTENT RENTAL (Should fail)
POST {{baseUrl}}/payment
Content-Type: {{contentType}}

{
  "rentalId": 9999,
  "paymentDate": "2024-03-15",
  "amount": 100.00,
  "paymentMethod": "credit_card"
}

### 16. TRY TO CREATE PAYMENT WITH ZERO AMOUNT (Should fail)
POST {{baseUrl}}/payment
Content-Type: {{contentType}}

{
  "rentalId": 1,
  "paymentDate": "2024-03-15",
  "amount": 0,
  "paymentMethod": "credit_card"
}

### 17. TRY TO CREATE PAYMENT WITH NEGATIVE AMOUNT (Should fail)
POST {{baseUrl}}/payment
Content-Type: {{contentType}}

{
  "rentalId": 1,
  "paymentDate": "2024-03-15",
  "amount": -50.00,
  "paymentMethod": "credit_card"
}

### 18. TRY TO UPDATE NON-EXISTENT PAYMENT (Should fail)
PATCH {{baseUrl}}/payment/9999
Content-Type: {{contentType}}

{
  "amount": 200.00
}

### 19. TRY TO UPDATE PAYMENT WITH INVALID RENTAL ID (Should fail)
PATCH {{baseUrl}}/payment/{{createPayment2.response.body.$.id}}
Content-Type: {{contentType}}

{
  "rentalId": 9999
}

### 20. TRY TO UPDATE PAYMENT WITH ZERO AMOUNT (Should fail)
PATCH {{baseUrl}}/payment/{{createPayment2.response.body.$.id}}
Content-Type: {{contentType}}

{
  "amount": 0
}

### 21. TRY TO GET NON-EXISTENT PAYMENT (Should fail)
GET {{baseUrl}}/payment/9999
Content-Type: {{contentType}}

### 22. TRY TO DELETE NON-EXISTENT PAYMENT (Should fail)
DELETE {{baseUrl}}/payment/9999
Content-Type: {{contentType}}